<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Roc Playground</title>
        <link rel="stylesheet" href="styles.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css"
            integrity="sha512-uf06llspW44/LZpHzHT6qBOIVODjWtv4MxCricRxkzvopAlSWnTf6hpZTFxuuZcuNE9CBQhqE0Seu1CoRk84nQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
    </head>
    <body>
        <div class="header">
            <div class="header-title">
                <svg
                    viewBox="0 0 52 53"
                    xmlns="http://www.w3.org/2000/svg"
                    style="display: flex; height: 25px"
                >
                    <!-- Make this icon look nicer in dark mode. (Only Firefox supports this; others ignore it.) -->
                    <style>
                        @media (prefers-color-scheme: dark) {
                            polygon {
                                fill: #9c7bea;
                            }
                        }
                    </style>
                    <polygon
                        fill="#7d59dd"
                        points="0,0 23.8834,3.21052 37.2438,19.0101 45.9665,16.6324 50.5,22 45,22 44.0315,26.3689 26.4673,39.3424 27.4527,45.2132 17.655,53 23.6751,22.7086"
                    />
                </svg>
                <span class="header-title-text">Roc Playground</span>
            </div>
            <div class="header-status">
                <div class="theme-toggle">
                    <span class="theme-label">Theme</span>
                    <div
                        class="theme-switch"
                        id="themeSwitch"
                        tabindex="0"
                        role="switch"
                        aria-checked="false"
                    >
                        <div class="theme-switch-slider"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="main-container">
            <div class="editor-container">
                <div class="editor-header">
                    <!-- <div class="editor-title"></div> NOT USED -->
                    <!-- Diagnostic summary will be inserted here by JavaScript -->
                </div>
                <div class="editor" id="editor"></div>
            </div>

            <div class="resize-handle" id="resizeHandle"></div>

            <div class="output-container">
                <div class="output-header">
                    <!-- <div class="output-title">Output</div> -->
                    <div class="stage-buttons">
                        <button
                            class="stage-button active"
                            onclick="showDiagnostics()"
                            id="diagnosticsBtn"
                        >
                            PROBLEMS
                        </button>
                        <button
                            class="stage-button"
                            onclick="showTokens()"
                            id="tokensBtn"
                        >
                            TOKENS
                        </button>
                        <button
                            class="stage-button"
                            onclick="showParseAst()"
                            id="parseBtn"
                        >
                            AST
                        </button>
                        <button
                            class="stage-button"
                            onclick="showCanCir()"
                            id="canBtn"
                        >
                            CIR
                        </button>
                        <button
                            class="stage-button"
                            onclick="showTypes()"
                            id="typesBtn"
                        >
                            TYPES
                        </button>
                    </div>
                </div>
                <div class="output-content" id="outputContent">
                    <div class="loading">Initializing WASM module...</div>
                </div>
            </div>
        </div>

        <div class="examples-footer">
            <div class="examples-header">Examples</div>
            <div class="examples-list" id="examplesList">
                <!-- Examples will be populated by JavaScript -->
            </div>
        </div>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js"
            integrity="sha512-8RnEqURPUc5aqFEN04aQEiPlSAdE0jlFS/9iGgUyNtwFnSKCXhmB6ZTNl7LnDtDWKabJIASzXrzD0K+LYexU9g=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/addon/edit/matchbrackets.min.js"
            integrity="sha512-GSYCbN/le5gNmfAWVEjg1tKnOH7ilK6xCLgA7c48IReoIR2g2vldxTM6kZlN6o3VtWIe6fHu/qhwxIt11J8EBA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <script src="app.js"></script>
    </body>
</html>
